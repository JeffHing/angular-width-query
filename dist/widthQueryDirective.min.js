!function(i,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.widthQueryDirective=t():i.widthQueryDirective=t()}(this,function(){return function(i){function t(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return i[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=i,t.c=e,t.p="",t(0)}([function(i,t,e){"use strict";function n(i,t,e,n,r,s){function a(){c.startPolling()}var c=this[l]=new o(i,t,r,s),d=e[s.directiveNames.widthQuery];if(d)if("["===d[0]){var f=i.$eval(d);c.config["class"]=f[0],c.config.widthListener=f[1]}else"{"===d[0]?angular.extend(c.config,i.$eval(d)):c.config["class"]=d;var u=angular.element(n);u.bind("resize",a),i.$watch(function(){a()},function(){}),i.$on("$destroy",function(){c.cancelPendingNotification(),u.unbind("resize",a)})}function o(i,t,e,n){this.scope=i,this.element=t[0],this.timeout=e,this.classModifierListeners=[],this.pendingNotification=null,this.width=null,this.config=n,this.pollingRetry=0}function r(i){function t(t,e,o,r,s){n.call(this,t,e,o,r,s,angular.merge({},i))}return t.$inject=["$scope","$element","$attrs","$window","$timeout"],t.prototype=n.prototype,{controller:t,link:{pre:function(i,t,e,n){n.setInitialModifier(t)}},require:i.directiveNames.widthQuery}}var s=e(1),l="_widthQueryDirective";i.exports=function(i,t){var e={"class":null,directiveNames:{widthQuery:"widthQuery",widthQueryClass:"widthQueryClass"},modifiers:[["small",0,767],["medium",768,1023],["large",1024,1e5]],pollingInterval:50,maxPollingRetrys:2,widthPollingListener:null,widthListener:null};t&&angular.merge(e,t);var n=e.directiveNames;angular.module(i).directive(n.widthQuery,function(){return r(e)}),s(i,e)},n.$inject=["$scope","$element","$attrs","$window","$timeout"];var a=n.prototype;a.addModifierListener=function(i){var t=this[l];return t.classModifierListeners.push(i),t.initialModifier},a.setInitialModifier=function(i){function t(t){e&&i.removeClass(e),e=o+t,i.addClass(e)}var e,n=this[l],o="";n.config["class"]&&(i.addClass(n.config["class"]),o=n.config["class"]+"-"),n.initialModifier=n.calculateModifier(n.element.offsetWidth),t(this.addModifierListener(t))};var c=o.prototype;c.cancelPendingNotification=function(){this.pendingNotification&&this.timeout.cancel(this.pendingNotification)},c.startPolling=function(){var i=this;if(!i.pendingNotification){var t=i.element.offsetWidth;t!==i.width&&(i.notifyModifierListeners(t),i.notifyWidthPollingListener(t),i.pollingRetry=0,i.width=t),i.pendingNotification=i.timeout(function(){var t=i.element.offsetWidth;i.pendingNotification=null,t!==i.width?i.startPolling():(0===i.pollingRetry&&i.notifyWidthListener(t),i.pollingRetry++,i.pollingRetry<=i.config.maxPollingRetrys?i.startPolling():i.pollingRetry=0)},i.config.pollingInterval,!1)}},c.calculateModifier=function(i){for(var t=this.config.modifiers,e=t.length,n=0;e>n;n++){var o=t[n];if(i>=o[1]&&i<=o[2])return o[0]}return""},c.notifyModifierListeners=function(i){for(var t=this.calculateModifier(i),e=this.classModifierListeners,n=e.length,o=0;n>o;o++)e[o](t)},c.notifyWidthListener=function(i){this.config.widthListener&&this.scope.$eval(this.config.widthListener,{width:i})},c.notifyWidthPollingListener=function(i){this.config.widthPollingListener&&this.scope.$eval(this.config.widthPollingListener,{width:i})}},function(i,t){"use strict";function e(i){return{link:function(t,e,n,o){function r(i){l&&e.removeClass(l),l=s+i,e.addClass(l)}var s=n[i.widthQueryClass],l=null;s?(e.addClass(s),s+="-"):s="",r(o.addModifierListener(r))},require:"^"+i.widthQuery}}i.exports=function(i,t){angular.module(i).directive(t.directiveNames.widthQueryClass,function(){return e(t.directiveNames)})}}])});
